query Account($address: String, $utc: timestamp, $delegationHeight: bigint, $rewardsHeight: bigint) {
  account(where: {address: {_eq: $address}}) {
    address
    accountBalances: account_balances(limit: 1, order_by: {height: desc}) {
      coins
    }
    delegations(where: {height: {_eq: $delegationHeight}}) {
      amount
      validator {
        validatorInfo: validator_info {
          operatorAddress: operator_address
        }
        validatorCommissions: validator_commissions(limit: 1, order_by: {height: desc}) {
          commission
        }
      }
    }
    unbonding: unbonding_delegations(where: {completion_timestamp: {_gt: $utc}}) {
      amount
      completionTimestamp: completion_timestamp
      validator {
        validatorCommissions: validator_commissions(limit: 1, order_by: {height: desc}) {
          commission
        }
        validatorInfo: validator_info {
          operatorAddress: operator_address
        }
      }
    }
    redelegations(where: {completion_time: {_gt: $utc}}) {
      amount
      completionTime: completion_time
      to: src_validator_address
      from: dst_validator_address
    }
    delegationRewards: delegation_rewards(where: {height: {_eq: $rewardsHeight}}) {
      amount
      withdrawAddress: withdraw_address
      validator {
        validatorInfo: validator_info {
          operatorAddress: operator_address
        }
      }
    }
  }
  validator: validator(limit: 1, where: {validator_info: {self_delegate_address: {_eq: $address}}}) {
    commission: validator_commission_amounts(limit: 1, order_by: {height: desc}) {
      amount
    }
  }
}
