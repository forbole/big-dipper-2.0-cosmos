query ProposalDetails($proposalId: Int) {
  proposal(where: {id: {_eq: $proposalId}}) {
    title
    description
    status
    content
    proposalId: id
    submitTime: submit_time
    depositEndTime: deposit_end_time
    votingStartTime: voting_start_time
    votingEndTime: voting_end_time
    proposalDeposits: proposal_deposits {
      amount
      depositorAddress: depositor_address
    }
  }
}


subscription ProposalVotesListener ($proposalId: Int) {
  proposalVote: proposal_vote(where: {proposal_id: {_eq: $proposalId}}) {
    option
    voterAddress: voter_address
  }
}

subscription ProposalTallyListener($proposalId: Int) {
  proposalTallyResult: proposal_tally_result(where: {proposal_id: {_eq: $proposalId}}) {
    yes
    no
    noWithVeto: no_with_veto
    abstain
  }
}

query TallyParams {
  govParams: gov_params {
    tallyParams: tally_params
  }
  stakingPool: staking_pool {
    bondedTokens: bonded_tokens
  }
  stakingParams: staking_params(limit: 1) {
    bondDenom: bond_denom
  }
}
